<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>danfleisch – AM</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-348c25d3af87bb43b0b779980a92ba9b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">AM</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="maxwells-equations---dan-fleisch" class="level1 unnumbered">
<h1 class="unnumbered">Maxwell’s Equations - Dan Fleisch</h1>
<p>Website: <a href="https://www.danfleisch.com/maxwell/">Official Website</a></p>
<section id="gausss-law-for-electric-fields" class="level2">
<h2 class="anchored" data-anchor-id="gausss-law-for-electric-fields">1 Gauss’s law for electric fields</h2>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">Introduction</h3>
<details>
<summary>
Expand
</summary>
<ul>
<li>What are the two kinds of Electric Fields in Maxwell’s Equation?</li>
</ul>
<details>
<summary>
Answer
</summary>
<ul>
<li>Electrostatic Fields (from electric charge)</li>
<li>Induced Electric Field (from changing magnetic field)</li>
</ul>
</details>
<ul>
<li>What type of fields does Gauss’s law deal with?</li>
</ul>
<details>
<summary>
Answer
</summary>
Electrostatic Fields (from electric charge)
</details>
</details>
</section>
<section id="integral-form-of-gausss-law" class="level3">
<h3 class="anchored" data-anchor-id="integral-form-of-gausss-law">Integral Form of Gauss’s Law</h3>
<details>
<summary>
Expand
</summary>
<p>Electric charge produces an electric field. The flux of that field passing through any closed surface is proportional to the total charge contained within that surface.</p>
<p><span class="math display">\[\oint_S \vec{E} \cdot \hat{n} da = \frac{q_{enc}}{\epsilon_0}\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Expand To Learn About Left Hand Side
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<!-- <details>
<summary>Expand</summary> -->
<ul>
<li>What does the left hand side represent?</li>
</ul>
<details>
<summary>
Answer
</summary>
The number of electric field lines (AKA electric flux) passing through a closed surface <span class="math inline">\(S\)</span>.
</details>
<ul>
<li>What is Electric field?</li>
</ul>
<details>
<summary>
Answer
</summary>
<p>The electrical force exerted on one coulomb of charge at that point in space is the electric field at that location.</p>
<p><span class="math display">\[\vec{E} = \frac{\vec{F}_e}{q_0}\]</span></p>
<p><span class="math inline">\(\vec{E}\)</span> has units of <span class="math inline">\(\frac{N}{C} = \frac{V}{m}\)</span></p>
<p>Spacing of electric field lines tells you the strength of it.</p>
<ul>
<li>Electric field lines go from positive to negative</li>
<li>Electric field lines vector sums, so they never cross</li>
</ul>
</details>
<ul>
<li>Why do physicists and engineers always talk about small test charges?</li>
</ul>
<details>
<summary>
Answer
</summary>
Because the job of this charge is to test the electric field at a location, not to add another electric field into the mix (although you can’t stop it from doing so). Making the test charge infinitesimally small minimizes the effect of the test charge’s own field.
</details>
<ul>
<li>What is the dot product? Why are we taking the dot product between <span class="math inline">\(\vec{E}\)</span> and <span class="math inline">\(\hat{n}\)</span> in Gauss’s Law?</li>
</ul>
<details>
<summary>
Answer
</summary>
<p>Consider vectors <span class="math inline">\(\vec{A}\)</span> and <span class="math inline">\(\vec{B}\)</span> in space.</p>
<p>What is the projection of <span class="math inline">\(\vec{A}\)</span> onto <span class="math inline">\(\vec{B}\)</span>? From trig, it’s <span class="math inline">\(|A| \cos \theta\)</span>.</p>
<p>Now the dot product is that projection, multiplied by the magnitude of <span class="math inline">\(\vec{B}\)</span>.</p>
<p><span class="math display">\[\vec{A} \cdot \vec{B} = |A| |B| \cos \theta\]</span></p>
</details>
<ul>
<li>What is <span class="math inline">\(\hat{n}\)</span>?</li>
</ul>
<details>
<summary>
Answer
</summary>
<p>It is the unit normal vector, which has a length of one, and points in the direction perpendicular to the surface.</p>
<p>Note that since <span class="math inline">\(da\)</span> is the tiny amount of area we are considering</p>
<span class="math display">\[\hat{n} da = d \vec{a}\]</span>
</details>
<ul>
<li>What is the difference between closed surface and open surface?</li>
</ul>
<details>
<summary>
Answer
</summary>
<ul>
<li>Open Surface - any surface for which it is possible to get from one side to the other without going through the surface</li>
<li>Closed Surface - a surface that divides space into an “inside” and “outside”. Unit Normal Vector <span class="math inline">\(\hat{n}\)</span> always points outwards, away from the volume enclosed by the surface.</li>
</ul>
</details>
<ul>
<li>What does <span class="math inline">\(\vec{E} \cdot \hat{n}\)</span> represent?</li>
</ul>
<details>
<summary>
Answer
</summary>
<p>The component of the electric field vector that is perpendicular to the surface.</p>
<p><span class="math display">\[\vec{E} \cdot \hat{n} = |\vec{E}| \cos \theta\]</span></p>
</details>
<ul>
<li>How do you find the mass of a surface with varying density function <span class="math inline">\(\sigma(x, y)\)</span>?</li>
</ul>
<details>
<summary>
Answer
</summary>
<p>Since mass is density times volume, we can write:</p>
<p><span class="math display">\[Mass = \sigma \cdot Area\]</span></p>
<p><span class="math display">\[Mass_S = \Sigma_{i = 1}^{N} \sigma_i \cdot Area_i\]</span></p>
<p>If we let Areas to become infinitesimally small <span class="math inline">\(dA\)</span>, we get <span class="math display">\[Mass = \int_{S} \sigma dA\]</span></p>
This is a <em>surface intergal</em>.
</details>
<ul>
<li>What does <span class="math inline">\(\int_S \vec{A} \cdot \hat{n} da\)</span> represent?</li>
</ul>
<details>
<summary>
Answer
</summary>
<p>It represents the flux of a vector field.</p>
<p>What’s a vector field?</p>
<p>It is magnitude and direction quantities distributed in space.</p>
<ul>
<li>Scalar Field - something like temperature distribution in a room, where at each point theres a number</li>
<li>Vector Field - something like flow of fluid, there at every point it has a speed and direction</li>
</ul>
</details>
<ul>
<li>What’s flux <span class="math inline">\(\Phi\)</span>?</li>
</ul>
<details>
<summary>
Answer
</summary>
<p>Flux <span class="math inline">\(\Phi\)</span> of a field over a surface is the amount of flow through that surface.</p>
<span class="math display">\[\Phi = \vec{A} \cdot \hat{n} \times (Surface Area)\]</span>
</details>
<!-- end left hand side -->
<!-- </details> -->
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Expand To Learn About Right Hand Side
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>What is the right hand side in words?</li>
</ul>
<details>
<summary>
Answer
</summary>
The total amount of enclosed charge normalized by the permittivity of free space.
</details>
<ul>
<li>What is <span class="math inline">\(\epsilon_0\)</span> and why is it there?</li>
</ul>
<details>
<summary>
Answer
</summary>
<p>It is called the permitivity of free space or “vacuum permitivity”.</p>
<p><span class="math display">\[\epsilon_0 = 8.854 \times 10^{-12} \frac{F}{m}\]</span></p>
<p>When we say the permitivity of a material, when are referring to its reponse to an electric field. It is also the key parameter in determining the speed at which an electromagnetic wave propagates through that medium.</p>
<p>High permitivity means it provides higher capacitance.</p>
In Gauss’s Law, <span class="math inline">\(\epsilon_0\)</span> acts as a proportionality constant that relates electric flux to enclosed charge.
</details>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercises
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Five point charges are enclosed in a cylindrical surface <span class="math inline">\(S\)</span>. If the values of the charges are <span class="math inline">\(q_1 = +3 nC\)</span>, <span class="math inline">\(q_2 = -2 nC\)</span>, <span class="math inline">\(q_3 = +2 nC\)</span>, <span class="math inline">\(q_4 = +4 nC\)</span>, and <span class="math inline">\(q_5 = -1 nC\)</span>, find the total flux through <span class="math inline">\(S\)</span>.</li>
</ul>
<details>
<summary>
Answer
</summary>
<p><span class="math display">\[\sum_{i=1}^{5} q_i = 3 - 2 + 2 + 4 - 1 = 6 nC = 6 \times 10^{-9} C\]</span></p>
<p><span class="math display">\[\Phi_E = \frac{q_enc}{\epsilon_0} = \frac{6 \times 10^{-9}C}{8.854 \times 10^{-12} \frac{C}{V \cdot m}} = \boxed{678 \hspace{1mm} Vm}\]</span></p>
</details>
</div>
</div>
</div>
<!-- end integral form  -->
</details>
</section>
<section id="differential-form-of-gausss-law" class="level3">
<h3 class="anchored" data-anchor-id="differential-form-of-gausss-law">Differential Form of Gauss’s Law</h3>
<!-- begin differential form -->
<details>
<summary>
Expand
</summary>
<p>The electric field produced by electric diverges from positive charge and converges upon negative charge.</p>
<p><span class="math display">\[\vec{\nabla} \cdot \vec{E} = \frac{\rho}{\epsilon_0}\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Expand To Learn About Left Hand Side
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<!-- <details>
<summary>Expand</summary> -->
<ul>
<li>What does the left hand side represent?</li>
</ul>
<details>
<summary>
Answer
</summary>
<!-- TODO -->
The tendency of electric field to flow away from a point in space - AKA the divergence.
</details>
<ul>
<li>What is the difference between differential and integral form of Gauss’s Law?</li>
</ul>
<details>
<summary>
Answer
</summary>
<!-- TODO -->
Differential deals with individual points in space, whereareas integral deals with a closed surface.
</details>
<ul>
<li>What is <span class="math inline">\(\vec{\nabla}\)</span>?</li>
</ul>
<details>
<summary>
Answer
</summary>
<!-- TODO -->
<p>It is called “del” or “nabla”. It tells you to take the derivative of what ever quantity comes after it.</p>
<p><span class="math display">\[\vec{\nabla} =\hat{i} \frac{\partial}{\partial x} + \hat{j} \frac{\partial}{\partial y} + \hat{k} \frac{\partial}{\partial z}
\]</span></p>
<p>It is an <em>mathematical operator</em>, which just means that it needs something to act on and cannot just appear by itself.</p>
<span class="math inline">\(\vec{\nabla}\)</span> is gradient, <span class="math inline">\(\vec{\nabla} \cdot\)</span> is divergence, and <span class="math inline">\(\vec{\nabla} \times\)</span> is curl.
</details>
<ul>
<li>What is <span class="math inline">\(\vec{\nabla} \cdot\)</span> specifically?</li>
</ul>
<details>
<summary>
Expand
</summary>
<p>Oliver Heaviside suggested the word “divergence” to describe the rate at which electric field flow outwards from a positive charge.</p>
<ul>
<li>source - diverge from that point (positive charge for electric field)</li>
<li>sink - converge to that point (negative charge for magnetic field)</li>
</ul>
</details>
<!-- end left hand side -->
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Expand To Learn About Right Hand Side
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>What is the right hand side in words?</li>
</ul>
<details>
<summary>
Answer
</summary>
<!-- TODO -->
</details>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercises
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Five point charges are enclosed in a cylindrical surface <span class="math inline">\(S\)</span>. If the values of the charges are <span class="math inline">\(q_1 = +3 nC\)</span>, <span class="math inline">\(q_2 = -2 nC\)</span>, <span class="math inline">\(q_3 = +2 nC\)</span>, <span class="math inline">\(q_4 = +4 nC\)</span>, and <span class="math inline">\(q_5 = -1 nC\)</span>, find the total flux through <span class="math inline">\(S\)</span>.</li>
</ul>
<details>
<summary>
Answer
</summary>
<p><span class="math display">\[\sum_{i=1}^{5} q_i = 3 - 2 + 2 + 4 - 1 = 6 nC = 6 \times 10^{-9} C\]</span></p>
<p><span class="math display">\[\Phi_E = \frac{q_enc}{\epsilon_0} = \frac{6 \times 10^{-9}C}{8.854 \times 10^{-12} \frac{C}{V \cdot m}} = \boxed{678 \hspace{1mm} Vm}\]</span></p>
</details>
</div>
</div>
</div>
</details>
<!-- end differential form -->
<!-- <details>
<summary>Expand</summary>
</details> -->


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>